# Проект МФЦ - Курсовая работа

Django проект для управления услугами Многофункционального центра (МФЦ).

## Структура базы данных

Проект содержит следующие модели (6 таблиц):

1. **User** (Пользователь) - пользователи системы (с полем role: пользователь/администратор)
2. **ServiceCategory** (Категория услуги) - справочник категорий услуг
3. **Service** (Услуга) - услуги МФЦ (связь Many-to-Many с MFCOffice)
4. **MFCOffice** (Отделение МФЦ) - отделения МФЦ (связь Many-to-Many с Service)
5. **Request** (Заявка) - заявки на услуги
6. **Document** (Документ) - документы с изображениями, прикреплённые к заявкам (работа с изображениями через ImageField)

## Установка и запуск

1. Активируйте виртуальное окружение:
```bash
source venv/bin/activate
```

2. Установите зависимости (если ещё не установлены):
```bash
pip install -r requirements.txt
```

3. Примените миграции:
```bash
python manage.py migrate
```

4. Создайте суперпользователя для доступа к административной панели:
```bash
python manage.py createsuperuser
```

5. Запустите сервер разработки:
```bash
python manage.py runserver
```

6. Откройте в браузере:
- Главная страница: http://127.0.0.1:8000/
- Список услуг: http://127.0.0.1:8000/services/
- Административная панель: http://127.0.0.1:8000/admin/

## Особенности административной панели

Административная панель настроена с использованием следующих возможностей Django Admin:

- **list_display** - отображение полей в списке объектов
- **list_display_links** - поля, которые являются ссылками на редактирование
- **list_filter** - фильтры для быстрого поиска
- **search_fields** - поля для поиска
- **readonly_fields** - поля только для чтения
- **raw_id_fields** - поля с выбором через всплывающее окно
- **date_hierarchy** - иерархия по датам
- **inlines** - встроенные формы для связанных объектов
- **@admin.display** - кастомные методы отображения
- **short_description** - описания для кастомных методов

## CRUD операции (Части 1-4 Django Tutorial)

Реализованы полные CRUD операции для модели **Service** (Услуга):

### Просмотр (Read)
- **Список услуг** (`/services/`) - отображение всех услуг с возможностью поиска и фильтрации по категориям
- **Детальная информация** (`/services/<id>/`) - просмотр полной информации об услуге

### Добавление (Create)
- **Создание услуги** (`/services/create/`) - форма для добавления новой услуги

### Редактирование (Update)
- **Редактирование услуги** (`/services/<id>/update/`) - форма для изменения данных услуги

### Удаление (Delete)
- **Удаление услуги** (`/services/<id>/delete/`) - страница подтверждения удаления с последующим удалением записи

### Особенности реализации:
- Использование **классовых представлений** (Class-Based Views): `ListView`, `DetailView`, `CreateView`, `UpdateView`, `DeleteView`
- **ModelForm** для работы с формами
- **Пагинация** для списка услуг (10 записей на страницу)
- **Поиск** по названию услуги
- **Фильтрация** по категориям
- **Сообщения об успешных операциях** через Django messages framework
- **Адаптивный дизайн** с современным UI

## Работа с изображениями

Модель `Document` поддерживает загрузку файлов (изображений, PDF и других документов). Файлы сохраняются в директории `media/documents/` с организацией по датам.

## Структура проекта

```
mfc_project/
├── mfc/                           # Основное приложение
│   ├── models.py                  # Модели базы данных
│   ├── admin.py                   # Настройки административной панели
│   ├── views.py                   # Представления (Views)
│   ├── forms.py                   # Формы для работы с данными
│   ├── urls.py                    # URL-маршруты приложения
│   ├── templates/                 # HTML шаблоны
│   │   └── mfc/
│   │       ├── base.html          # Базовый шаблон
│   │       ├── index.html         # Главная страница
│   │       ├── service_list.html  # Список услуг
│   │       ├── service_detail.html # Детальная информация
│   │       ├── service_form.html  # Форма создания/редактирования
│   │       └── service_confirm_delete.html # Подтверждение удаления
│   └── migrations/                # Миграции базы данных
├── mfc_project/                   # Настройки проекта
│   ├── settings.py                # Настройки Django
│   └── urls.py                    # Главные URL-маршруты
├── manage.py                      # Управляющий скрипт Django
└── requirements.txt               # Зависимости проекта
```

